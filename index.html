<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Helpdesk System</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header, nav, main {
      padding: 1rem;
    }
    header {
      background: #333;
      color: white;
      text-align: center;
    }
    nav {
      justify-content: center;
      background: #f4f4f4;
      display: flex;
      gap: 1rem;
    }
    nav a {
      padding: 0.5rem 1rem;
      text-decoration: none;
      background: #ddd;
      color: #000;
      border-radius: 4px;
    }
    .tab {
      display: none;
    }
    .active {
      display: block;
    }
    form input, form textarea, form button {
      display: block;
      margin: 0.5rem 0;
      padding: 0.5rem;
      width: 100%;
    }
    .ticket {
      border: 1px solid #ccc;
      margin: 0.5rem 0;
      padding: 0.5rem;
    }
    .ticket strong {
      display: block;
    }
    .resolved {
      background-color: #e0ffe0;
    }
  </style>
</head>
<body>
  <header>
    <h1>Helpdesk System</h1>
  </header>
  <nav>
    <a href="#" onclick="showTab('dashboard')">Dashboard</a>
    <a href="#" onclick="showTab('ticketList')">Tickets</a>
    <a href="#" onclick="showTab('createTicket')">Create Ticket</a>
    <a href="#" onclick="logout()">Log Out</a>
    <a href="reset-password.html">Reset Password</a>
  </nav>
  <main>
    <section id="dashboard" class="tab active">
      <h2>Dashboard</h2>
      <p>Welcome to the Helpdesk Dashboard!</p>
      <p>Total Tickets: <span id="ticketCount">0</span></p>
    </section>

    <section id="ticketList" class="tab">
      <h2>Ticket List</h2>
      <div id="tickets"></div>
    </section>

    <section id="createTicket" class="tab">
      <h2>Create Ticket</h2>
      <form onsubmit="createTicket(event)">
        <input type="text" id="title" placeholder="Title" required />
        <textarea id="description" placeholder="Description" required></textarea>
        <button type="submit">Submit Ticket</button>
      </form>
    </section>
  </main>

  <script>
    const tickets = [];

    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }

    function createTicket(event) {
      event.preventDefault();
      const title = document.getElementById('title').value.trim();
      const description = document.getElementById('description').value.trim();
      if (!title || !description) return;
      const ticket = { title, description, createdAt: new Date().toLocaleString(), resolved: false };
      tickets.push(ticket);
      document.getElementById('title').value = '';
      document.getElementById('description').value = '';
      alert('Ticket submitted!');
      displayTickets();
      showTab('ticketList');
    }

    function resolveTicket(index) {
      tickets[index].resolved = true;
      displayTickets();
    }

    function displayTickets() {
      const ticketContainer = document.getElementById('tickets');
      ticketContainer.innerHTML = '';
      tickets.forEach((ticket, index) => {
        const ticketDiv = document.createElement('div');
        ticketDiv.className = 'ticket' + (ticket.resolved ? ' resolved' : '');
        ticketDiv.innerHTML = `
          <strong>${ticket.title}</strong>
          <p>${ticket.description}</p>
          <small>Submitted on: ${ticket.createdAt}</small><br/>
          ${ticket.resolved ? '<em>Resolved</em>' : `<button onclick="resolveTicket(${index})">Resolve</button>`}
        `;
        ticketContainer.appendChild(ticketDiv);
      });
      document.getElementById('ticketCount').textContent = tickets.length;
    }

    function logout() {
      alert('You have been logged out.');
      window.location.href = 'login.html';
    }
  </script>
</body>
</html>